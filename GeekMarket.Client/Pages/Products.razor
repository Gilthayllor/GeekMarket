@page "/products"
@inject IProductService _productService

<MudTable Items="_products" Context="product">
    <HeaderContent>
        <MudTh>Nome</MudTh>
        <MudTh>Descrição</MudTh>
        <MudTh>Preço</MudTh>
        <MudTh>Quantidade</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd>@product.Name</MudTd>
        <MudTd>@product.Description</MudTd>
        <MudTd>@product.Price</MudTd>
        <MudTd>@product.Quantity</MudTd>
    </RowTemplate>
</MudTable>

@code {
    private IEnumerable<ProductDTO> _products = new List<ProductDTO>();


    protected override async Task OnInitializedAsync()
    {
        var result = await _productService.GetAll(true);

        if (result.IsSuccess)
        {
            _products = result.Data;
        }

        await base.OnInitializedAsync();
    }
}
